{% extends "simple_base.html" %}

{% block title %}Example News - LightFakeDetect{% endblock %}

{% block extra_css %}
<style>
  .example-card {
    border: none;
    transition: transform 0.3s, box-shadow 0.3s;
    margin-bottom: 2rem;
  }

  .example-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  }

  .example-header {
    padding: 1rem 1.5rem;
  }

  .example-content {
    background-color: #f8f9fa;
    border-radius: 0.5rem;
    padding: 1.5rem;
    margin-bottom: 1rem;
    border-left: 4px solid #dee2e6;
    font-size: 1rem;
    line-height: 1.6;
  }

  .pants-on-fire-content {
    border-left-color: #dc3545;
  }

  .false-content {
    border-left-color: #e35d6a;
  }

  .mostly-false-content {
    border-left-color: #fd7e14;
  }

  .half-true-content {
    border-left-color: #ffc107;
  }

  .mostly-true-content {
    border-left-color: #75b798;
  }

  .true-content {
    border-left-color: #198754;
  }

  .example-type {
    display: inline-block;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 1px;
    margin-bottom: 0.5rem;
  }

  .analyze-btn {
    border-radius: 50px;
    padding: 0.4rem 1.2rem;
    font-weight: 500;
    transition: all 0.2s;
  }

  .analyze-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }

  .analyze-btn i {
    transition: transform 0.2s;
  }

  .analyze-btn:hover i {
    transform: translateX(3px);
  }

  .hero-section {
    background-color: #f8f9fa;
    padding: 3rem 0;
    margin-bottom: 2rem;
    border-radius: 0.5rem;
  }

  .metadata-tag {
    display: inline-block;
    background-color: rgba(0,0,0,0.05);
    border-radius: 30px;
    padding: 3px 12px;
    margin-right: 8px;
    margin-bottom: 8px;
    font-size: 0.8rem;
    color: #6c757d;
  }

  .metadata-tag i {
    margin-right: 5px;
    opacity: 0.7;
  }
</style>
{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="hero-section">
    <div class="row justify-content-center text-center">
      <div class="col-lg-10">
        <h1 class="display-5 fw-bold mb-3">Test with Example Statements</h1>
        <p class="lead mb-0">
          Click on any example to analyze it with our LIAR2 fine-tuned model.
          See how the system performs across the 6 levels of truthfulness.
        </p>
      </div>
    </div>
  </div>

  <div class="row">
    <!-- Completely False Examples -->
    <div class="col-lg-6">
      <div class="card example-card">
        <div class="card-header example-header bg-danger text-white">
          <h5 class="mb-0 fw-bold"><i class="bi bi-x-circle me-2"></i> False Statements</h5>
        </div>
        <div class="card-body p-4">
          <div class="mb-4">
            <span class="example-type text-danger">Pants on Fire</span>
            <h6 class="fw-bold mb-2">Mind Control Chemicals</h6>
            <div class="example-content pants-on-fire-content" id="pants-fire-1">
              Government officials have been secretly putting mind-control chemicals in the water supply for decades, according to documents leaked by an anonymous whistleblower. The chemicals allegedly make citizens more compliant and less likely to question authority figures.
            </div>
            <div class="mb-2">
              <span class="metadata-tag"><i class="bi bi-person"></i>conspiracy bloggers</span>
              <span class="metadata-tag"><i class="bi bi-tag"></i>government</span>
              <span class="metadata-tag"><i class="bi bi-geo"></i>online blog</span>
            </div>
            <button class="btn btn-outline-danger analyze-btn float-end"
                   data-text="pants-fire-1"
                   data-speaker="conspiracy bloggers"
                   data-subject="government"
                   data-context="online blog">
              Analyze This <i class="bi bi-arrow-right ms-1"></i>
            </button>
            <div class="clearfix"></div>
          </div>

          <div class="mb-4">
            <span class="example-type text-danger">False</span>
            <h6 class="fw-bold mb-2">Miracle Diabetes Cure</h6>
            <div class="example-content false-content" id="false-1">
              Doctors are shocked by a simple household item that has been proven to cure diabetes overnight. Big pharmaceutical companies are trying to keep this miracle cure secret because it threatens their profits from diabetes medications.
            </div>
            <div class="mb-2">
              <span class="metadata-tag"><i class="bi bi-person"></i>advertisement</span>
              <span class="metadata-tag"><i class="bi bi-tag"></i>health</span>
              <span class="metadata-tag"><i class="bi bi-geo"></i>social media post</span>
            </div>
            <button class="btn btn-outline-danger analyze-btn float-end"
                   data-text="false-1"
                   data-speaker="advertisement"
                   data-subject="health"
                   data-context="social media post">
              Analyze This <i class="bi bi-arrow-right ms-1"></i>
            </button>
            <div class="clearfix"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Mostly False & Half True Examples -->
    <div class="col-lg-6">
      <div class="card example-card">
        <div class="card-header example-header bg-warning text-dark">
          <h5 class="mb-0 fw-bold"><i class="bi bi-exclamation-triangle me-2"></i> Mixed Credibility</h5>
        </div>
        <div class="card-body p-4">
          <div class="mb-4">
            <span class="example-type text-warning">Mostly False</span>
            <h6 class="fw-bold mb-2">Tax Plan Claim</h6>
            <div class="example-content mostly-false-content" id="mostly-false-1">
              The new tax plan will only benefit the top 1% of earners, while the middle class will see their taxes double over the next five years.
            </div>
            <div class="mb-2">
              <span class="metadata-tag"><i class="bi bi-person"></i>politician</span>
              <span class="metadata-tag"><i class="bi bi-tag"></i>economy</span>
              <span class="metadata-tag"><i class="bi bi-geo"></i>campaign speech</span>
            </div>
            <button class="btn btn-outline-warning analyze-btn float-end"
                   data-text="mostly-false-1"
                   data-speaker="politician"
                   data-subject="economy"
                   data-context="campaign speech">
              Analyze This <i class="bi bi-arrow-right ms-1"></i>
            </button>
            <div class="clearfix"></div>
          </div>

          <div class="mb-4">
            <span class="example-type text-warning">Half True</span>
            <h6 class="fw-bold mb-2">Climate Change Statement</h6>
            <div class="example-content half-true-content" id="half-true-1">
              Global temperatures haven't increased at all in the past 10 years, showing that climate change concerns are overblown.
            </div>
            <div class="mb-2">
              <span class="metadata-tag"><i class="bi bi-person"></i>news commentator</span>
              <span class="metadata-tag"><i class="bi bi-tag"></i>climate</span>
              <span class="metadata-tag"><i class="bi bi-geo"></i>television interview</span>
            </div>
            <button class="btn btn-outline-warning analyze-btn float-end"
                   data-text="half-true-1"
                   data-speaker="news commentator"
                   data-subject="climate"
                   data-context="television interview">
              Analyze This <i class="bi bi-arrow-right ms-1"></i>
            </button>
            <div class="clearfix"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <!-- Mostly True & True Examples -->
    <div class="col-lg-6">
      <div class="card example-card">
        <div class="card-header example-header bg-success text-white">
          <h5 class="mb-0 fw-bold"><i class="bi bi-check-circle me-2"></i> More Credible</h5>
        </div>
        <div class="card-body p-4">
          <div class="mb-4">
            <span class="example-type text-success">Mostly True</span>
            <h6 class="fw-bold mb-2">Trump's Inauguration Speech Poll</h6>
            <div class="example-content mostly-true-content" id="mostly-true-1">
              A poll just came out on my inauguration speech. People loved it. Loved and liked.
            </div>
            <div class="mb-2">
              <span class="metadata-tag"><i class="bi bi-person"></i>donald trump</span>
              <span class="metadata-tag"><i class="bi bi-tag"></i>polls and public opinion</span>
              <span class="metadata-tag"><i class="bi bi-geo"></i>an interview with ABC News' David Muir</span>
            </div>
            <button class="btn btn-outline-success analyze-btn float-end"
                   data-text="mostly-true-1"
                   data-speaker="donald trump"
                   data-subject="polls and public opinion"
                   data-context="an interview with ABC News' David Muir">
              Analyze This <i class="bi bi-arrow-right ms-1"></i>
            </button>
            <div class="clearfix"></div>
          </div>

          <div class="mb-4">
            <span class="example-type text-success">True</span>
            <h6 class="fw-bold mb-2">Brazil's World Cup Stadium</h6>
            <div class="example-content true-content" id="true-1">
              Brazil built a $300 million stadium in the Amazon rainforest that "is only going to be used for four World Cup games," and there's no team "that can fill it afterwards."
            </div>
            <div class="mb-2">
              <span class="metadata-tag"><i class="bi bi-person"></i>john oliver</span>
              <span class="metadata-tag"><i class="bi bi-tag"></i>sports;punditfact</span>
              <span class="metadata-tag"><i class="bi bi-geo"></i>a segment on "Last Week Tonight"</span>
            </div>
            <button class="btn btn-outline-success analyze-btn float-end"
                   data-text="true-1"
                   data-speaker="john oliver"
                   data-subject="sports;punditfact"
                   data-context='a segment on "Last Week Tonight"'>
              Analyze This <i class="bi bi-arrow-right ms-1"></i>
            </button>
            <div class="clearfix"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Form for analysis (hidden by default) -->
  <form id="analyze-form" action="/analyze/text/" method="post" style="display: none;">
    {% csrf_token %}
    <input type="hidden" id="text-to-analyze" name="text">
    <input type="hidden" id="speaker-to-analyze" name="speaker">
    <input type="hidden" id="subject-to-analyze" name="subject">
    <input type="hidden" id="context-to-analyze" name="context">
    <input type="hidden" id="model-select" name="model" value="distilbert_liar2">
  </form>
</div>

{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const analyzeButtons = document.querySelectorAll('.analyze-btn');
    const analyzeForm = document.getElementById('analyze-form');
    const textInput = document.getElementById('text-to-analyze');
    const speakerInput = document.getElementById('speaker-to-analyze');
    const subjectInput = document.getElementById('subject-to-analyze');
    const contextInput = document.getElementById('context-to-analyze');

    analyzeButtons.forEach(button => {
      button.addEventListener('click', function() {
        const textId = this.getAttribute('data-text');
        const speaker = this.getAttribute('data-speaker') || '';
        const subject = this.getAttribute('data-subject') || '';
        const context = this.getAttribute('data-context') || '';

        const textElement = document.getElementById(textId);
        textInput.value = textElement.textContent.trim();
        speakerInput.value = speaker;
        subjectInput.value = subject;
        contextInput.value = context;

        analyzeForm.submit();
      });
    });
  });
</script>
{% endblock %}
{% endblock %}