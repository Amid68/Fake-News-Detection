{% extends "simple_base.html" %}

{% block title %}Example News - VeriFact{% endblock %}

{% block content %}
<div class="container mt-4">
  <h1 class="mb-4">Example News Articles for Testing</h1>
  <p class="lead mb-4">
    Click on any example to analyze it with your fine-tuned DistilBERT model.
  </p>

  <div class="row">
    <!-- Real News Examples -->
    <div class="col-md-6">
      <div class="card mb-4">
        <div class="card-header bg-success text-white">
          <h5 class="mb-0">Real News Examples</h5>
        </div>
        <div class="card-body">
          <div class="mb-4">
            <h6>Political News</h6>
            <p id="real-1">
              The European Union announced new climate regulations today, requiring member states to reduce carbon emissions by an additional 15% by 2030. The measure passed with support from 22 of the 27 member states, with opposition primarily from countries with coal-dependent economies.
            </p>
            <button class="btn btn-sm btn-outline-primary analyze-btn" data-text="real-1">Analyze This</button>
          </div>

          <div class="mb-4">
            <h6>Scientific Report</h6>
            <p id="real-2">
              Researchers at Stanford University have published findings in the journal Nature showing promising results for a new treatment approach for Alzheimer's disease. The clinical trial, involving 230 patients, demonstrated a 28% reduction in cognitive decline over 18 months compared to the control group.
            </p>
            <button class="btn btn-sm btn-outline-primary analyze-btn" data-text="real-2">Analyze This</button>
          </div>

          <div class="mb-4">
            <h6>Business News</h6>
            <p id="real-3">
              Tesla reported quarterly earnings that exceeded analyst expectations, with revenue growth of 23% year-over-year. The electric vehicle manufacturer cited increased production efficiency and strong demand in European markets as key factors in the better-than-expected performance.
            </p>
            <button class="btn btn-sm btn-outline-primary analyze-btn" data-text="real-3">Analyze This</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Fake News Examples -->
    <div class="col-md-6">
      <div class="card mb-4">
        <div class="card-header bg-danger text-white">
          <h5 class="mb-0">Fake News Examples</h5>
        </div>
        <div class="card-body">
          <div class="mb-4">
            <h6>Conspiracy Theory</h6>
            <p id="fake-1">
              Government officials have been secretly putting mind-control chemicals in the water supply for decades, according to documents leaked by an anonymous whistleblower. The chemicals allegedly make citizens more compliant and less likely to question authority figures.
            </p>
            <button class="btn btn-sm btn-outline-primary analyze-btn" data-text="fake-1">Analyze This</button>
          </div>

          <div class="mb-4">
            <h6>Sensationalist Health Claim</h6>
            <p id="fake-2">
              Doctors are shocked by a simple household item that has been proven to cure diabetes overnight. Big pharmaceutical companies are trying to keep this miracle cure secret because it threatens their profits from diabetes medications.
            </p>
            <button class="btn btn-sm btn-outline-primary analyze-btn" data-text="fake-2">Analyze This</button>
          </div>

          <div class="mb-4">
            <h6>Fabricated Political Story</h6>
            <p id="fake-3">
              The president's secret plan to declare martial law was revealed yesterday when an aide accidentally leaked confidential documents to the press. Military units are already being positioned in major cities across the country in preparation for the announcement.
            </p>
            <button class="btn btn-sm btn-outline-primary analyze-btn" data-text="fake-3">Analyze This</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Form for analysis (hidden by default) -->
  <form id="analyze-form" action="/analyze/text/" method="post" style="display: none;">
    {% csrf_token %}
    <input type="hidden" id="text-to-analyze" name="text">
    <input type="hidden" name="model" value="distilbert_finetuned">
  </form>
</div>

{% block extra_js %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const analyzeButtons = document.querySelectorAll('.analyze-btn');
    const analyzeForm = document.getElementById('analyze-form');
    const textInput = document.getElementById('text-to-analyze');

    analyzeButtons.forEach(button => {
      button.addEventListener('click', function() {
        const textId = this.getAttribute('data-text');
        const textElement = document.getElementById(textId);
        textInput.value = textElement.textContent.trim();
        analyzeForm.submit();
      });
    });
  });
</script>
{% endblock %}
{% endblock %}